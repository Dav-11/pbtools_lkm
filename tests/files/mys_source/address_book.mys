# This file was generated by pbtools.

from pbtools import Decoder
from pbtools import Encoder

@enum
class PhoneType:
    MOBILE = 0
    HOME = 1
    WORK = 2

class PhoneNumber:
    number: string
    type: address_book_person_phone_type
};

class Person:
    name: string
    id: i32
    email: string
    struct address_book_person_phone_number_repeated_t phones;
};

class AddressBook:
    struct address_book_person_repeated_t people;
};

int address_book_person_phones_alloc(
    struct address_book_person_t *self_p,
    int length);

/**
 * Encoding and decoding of address_book.Person.
 */
struct address_book_person_t *
address_book_person_new(
    void *workspace_p,
    size_t size);

int address_book_person_encode(
    struct address_book_person_t *self_p,
    uint8_t *encoded_p,
    size_t size);

int address_book_person_decode(
    struct address_book_person_t *self_p,
    const uint8_t *encoded_p,
    size_t size);

int address_book_address_book_people_alloc(
    struct address_book_address_book_t *self_p,
    int length);

/**
 * Encoding and decoding of address_book.AddressBook.
 */
struct address_book_address_book_t *
address_book_address_book_new(
    void *workspace_p,
    size_t size);

int address_book_address_book_encode(
    struct address_book_address_book_t *self_p,
    uint8_t *encoded_p,
    size_t size);

int address_book_address_book_decode(
    struct address_book_address_book_t *self_p,
    const uint8_t *encoded_p,
    size_t size);

